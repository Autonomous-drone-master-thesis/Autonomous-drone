#:kivy 2.1.0
<LandingUI>:
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        padding: dp(20)
        size_hint: (1, 1)
        MDLabel:
            text: "Welcome to the Landing Page"
            halign: 'center'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            font_style: 'H4'
        MDFloatingActionButton:
            icon: 'play'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            on_release: app.switch_layout_to_main()

<MainUI>:
    video: video
    battery: battery
    status: status
    flight_time: flight_time
    current_speed: current_speed
    temperature: temperature
    settings: settings
    video_trigger: video_trigger
    action_button: action_button
    FloatLayout:
        Image:
            id: video
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(20)
            size_hint: (1, 1)
            pos_hint: {'center_y': 0.95}
            MDLabel:
                id: battery
                text: "Battery: N/A"
                halign: 'center'
                theme_text_color: 'Secondary'
                font_style: 'Caption'
            MDLabel:
                id: status
                text: "Status: Not connected"
                halign: 'center'
                theme_text_color: 'Secondary'
                font_style: 'Caption'
            MDLabel:
                id: flight_time
                text: "Flight time: 0:00:00.00"
                halign: 'center'
                theme_text_color: 'Secondary'
                font_style: 'Caption'
            MDLabel:
                id: current_speed
                text: "Speed: 0 m/s"
                halign: 'center'
                theme_text_color: 'Secondary'
                font_style: 'Caption'
            MDLabel:
                id: temperature
                text: "Temperature: 0"
                halign: 'center'
                theme_text_color: 'Secondary'
                font_style: 'Caption'
        MDFloatingActionButton:
            id: settings
            icon: 'cogs'
            pos_hint: {'center_x': 0.05, 'center_y': 0.075}
            on_press: app.switch_layout_to_settings()
        MDFloatingActionButton:
            id: video_trigger
            icon: 'camera'
            pos_hint: {'center_x': 0.95, 'center_y': 0.075}
        MDFloatingActionButton:
            id: action_button
            icon: 'play'
            pos_hint: {'center_x': 0.5, 'center_y': 0.075}
            on_press: root.button_handler()

<Settings>:
    BoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "Settings"
            anchor_title: "left"
            left_action_items: [["arrow-left", lambda x: app.switch_layout_to_main()]]
        MDScrollView:
            canvas.before:
                Color:
                    rgba: app.theme_cls.bg_light
                Rectangle:
                    pos: self.pos
                    size: self.size
            MDList:
                OneLineListItem:
                    text: "Parameters"
                    on_release: app.switch_layout_to_parameters()
                OneLineListItem:
                    text: "Download models"
                    on_release: app.switch_layout_to_download()

<Parameters>:
    BoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "Parameters"
            anchor_title: "left"
            left_action_items: [["arrow-left", lambda x: app.switch_layout_to_settings()]]
        MDScrollView:
            MDList:
                OneLineListItem:
                    text: "Person Height"
                    on_release: root.show_height_input()
                OneLineListItem:
                    text: "Tracking Height and Distance"
                    on_release: root.show_tracking_input()
                OneLineListItem:
                    text: "Model Selection (For Human tracker)"
                    on_release: root.show_model_selection_select()

<ItemConfirm>
    on_release: root.set_icon(check)

    CheckboxLeftWidget:
        id: check
        group: "check"

<DownloadModels>:
    selection_list: selection_list
    BoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "Download models"
            anchor_title: "left"
            left_action_items: [["arrow-left", lambda x: app.switch_layout_to_settings()]]
        MDScrollView:
            canvas.before:
                Color:
                    rgba: app.theme_cls.bg_light
                Rectangle:
                    pos: self.pos
                    size: self.size
            MDList:
                id: selection_list
        MDFloatingActionButton:
            id: download
            icon: 'download'
            pos_hint: {'center_x': 0.05, 'center_y': 0.075}
            on_press: root.download_selected_models()